# DBMS

|                 | function                                                     |
| --------------- | ------------------------------------------------------------ |
| Database System | a collection of **data** and a set of **programs** to access the data |
| Database        | a collection of **data**                                     |
| data model      | structure of data                                            |



# Data Abstraction

relational model: a collection of tables to represent (1) data (2) relationship between data

|           | function                                                     |
| --------- | ------------------------------------------------------------ |
| relations | tables                                                       |
| columns   | attributes of table, each table has multiple columns, each column has a unique name |
| rows      | each row is one piece of information                         |
| schema    | declaration, design of database (ID, name, dept_name, salary) |
| instance  | values of variables (222, Wu, CS, 1500)                      |



# Database Languages

## DDL

Data-Definition Language. Specify data scheme

specify table + column name + column type

```sql
create table department
(dept_name char(20),
 building char(15)
budge numeric(12,2);
)
```



## DML

Data-Manipulation Language. Express data queries and updates.

specify a table with specific columns and all rows that satisfy some conditions

```sql
select instructor.name
from instructor
where instructor.dept_name = 'History'
```



# Database Engine

database system = storage manager + query processor + transaction management component



## storage manager

components

|                     | function                                                     |
| ------------------- | ------------------------------------------------------------ |
| storage manager     | move data between disks and memory                           |
| buffer pool manager | fetch data from disk storage into main memory                |
| data dictionary     | store metadata about the structure of database, namely the schema |
| indices             | provide fast access to data item                             |



## query processor

components

|                         | function                                                     |
| ----------------------- | ------------------------------------------------------------ |
| query processor         | simplify access to data by translating queries and updates into a sequence of operations |
| DDL interpreter         | translate DDL into definitions in the data dictionary        |
| DML compiler            | translate DML into evaluation plan with query optimization(lower cost of evaluation plan) |
| Query evaluation engine | executes instructions generated by DML compiler              |



## transaction manager

transaction: a collection of operations

| 4 requirements of txn | function                                    |
| --------------------- | ------------------------------------------- |
| atomicity             | all-or-non requirement                      |
| consistency           | sum of A + B must be preserved              |
| isolation             | 1 txn will not affect another txn           |
| durability            | persistence must persist despite of failure |



components

|                             | function                                                     |
| --------------------------- | ------------------------------------------------------------ |
| transaction manager         | treat a sequence of data accesses as a single unit that happens in its entirety or not at all (atomicity) |
| recovery manager            | ensure the atomicity and durability                          |
| concurrency-control manager | control interaction among concurrent txns                    |









